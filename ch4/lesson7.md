
## 类设计技巧

简单介绍几点技巧，应用这些技巧可以使得设计出来的类更具有OOP的专业水准。

1. 一定要保证数据私有

这是最重要的，绝对不要破坏封装性。有时候，需要编写一个访问器方法或更改器方法，但是最好还是保持实例域
的私有性。数据的形式很可能会改变，但它们的使用方式却不会经常发生变化。当数据保持私有时，它们的表示形式
不会对类的使用者产生影响，即使出现bug也易于检测。

2. 一定要对数据初始化

Java不对局部变量进行初始化，但是会对对象的实例域进行初始化。最好不要依赖于系统的默认值，而是应该显式
地初始化所有的数据，具体的初始化方式可以是提供默认值，也可以是在所有构造器中设置默认值。

3. 不要在类中使用过多的基本类型

用其他的类代替多个相关的基本类型的使用，这样会使类更加易于理解且易于修改。例如
用一个称为 Address 的新的类替换一个类中的以下实例域：
```
private String street;
private String city;
private String state;
private int zip;
```
这样可以很容易处理地址的变化，例如需要增加对国际地址的处理。

4. 不是所有的域都需要独立的域访问器和域更改器

或许，需要获得或设置雇员的薪金，而一旦构造了雇员对象，就应该禁止更改雇用日期。

5. 将职责过多的类进行分解

究竟多少算是"过多"，每个人的看法不同，但是，如果明显地可以将一个复杂的类分解成两个更为简单的类，
就应该将器分解。

6. 类名和方法名要能体现它们的职责

与变量应该有一个能反映其含义的名字一样，类也应该如此。对于方法来说，习惯是访问器方法用小写
get开头（getSalary），更改器方法用小写的set开头（setSalary）。

7. 优先使用不可变的类

LocalDate类以及java.time包中的其他类是不可变的 --- 没有方法能修改对象的状态。
类似plusDays的方法并是更改对象，而是返回**状态已经修改的新对象**。

更改对象的问题在于，如果多个线程试图同时更新一个对象，就会发生并发放更改，其结果是不可预料的。
如果类是不可变的，就可以安全地在多个线程间共享其对象。

因此，要尽量让类不可变，这是一个很好的想法，对于表示值的类，如一个字符串或一个时间点等。
当然，并不是所有类都应当是不可变的，如果员工加薪时让raiseSalary方法返回一个新的Employee对象，
这会很奇怪。

本章介绍了Java这种面向对象语言的有关**对象**和**类**的基础知识，为了真正做到面向对象，
程序设计语言还必须支持继承和多态。





















