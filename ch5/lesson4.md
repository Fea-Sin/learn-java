

## 继承的设计技巧

1）将公共操作和域放在超类

这就是为什么将姓名域放在Person类中，而没有将它放在Employee和Student类中的原因

2）不要使用受保护的域

有些程序员认为，将大多数的实例域定义为protected是一个不错的主意，只有这样，子类才能够在需要的
时候直接访问它们。然而，protected机制并不能够带来更好的保护，其原因主要有亮点。
第一，子类集合是无限制的，任何一个人都能够由某个类派生一个子类，并编写代码直接访问protected的
实例域，从而破坏了封装性。
第二，在Java程序设计语言中，在同一个包中的所有类都可以访问protected域，而不管它是否为这个类的子类。

不过，protected方法对于指示那些不提供一般用途而应该在子类中重新定义的方法很有用。

3）使用继承实现"is-a"关系

使用继承很容易达到节省代码的目的，但有时候也被人们滥用了。例如，假设需要定义一个钟点工。钟点工的信息
包含姓名和雇佣如期，但是没有薪水。他们按小时计薪，并且不会因为拖延时间而获得加薪。这似乎在诱导人们
由Employee派生出子类Contractor，然后再增加一个hourlyWage域。
这并不是一个好注意。因为这样一来，每个钟点工对象中都包含了薪水和计时工资这两个域。在实现打印
支票或税单方法的时候，会带来无尽的麻烦。

钟点工域雇员之间不属于"is-a"关系。钟点工不是特殊的雇员。

4）除非所有继承的方法都有意义，否则不要使用继承

5）在覆盖方法时，不要改变预期的行为

置换原则不仅应用于语法，而且也可以应用于行为，这似乎更加重要。在覆盖一个方法的时候，不应该毫无理由
地改变行为的内涵。就这一点而言，编译器不会提供任何帮助，即编译器不会检查重新定义的方法是否有意义。

6）使用多态，而非类型信息

无论什么时候，对于下面这种形式的代码
```
if (x is if type 1)
    action1(x);
else if (x is of type 2)
    action2(x);
```
都应该考虑使用多态性。

action1与action2表示的是相同的概念吗？如果是相同的概念，就应该为这个概念定义一个方法，并将
其放置在两个类的超类或接口中，然后，就可以调用
```
x.action();
```
以便使用多态性提供的动态分派机制执行相应的动作。

使用多态方法或接口编写的代码比使用对多种类型检测的代码更加容易维护和扩展。

7）不要过多地使用反射

反射机制使得人们可以通过在运行时查看域和方法，让人们编写出更具有通用性的程序。这种功能
对于编写系统程序来说极其实用，但是通常不适用于编写应用程序。反射是很脆弱的，即编译器
很难帮助人们发现程序中的错误，因此只有在运行时才发现错误并导致异常。

现在你已经了解Java支持面向对象编程的基础内容：类、继承和多态。下一章我们将介绍两个高级主题：
接口和lambda表达式，它们对于有效地使用Java非常重要。























